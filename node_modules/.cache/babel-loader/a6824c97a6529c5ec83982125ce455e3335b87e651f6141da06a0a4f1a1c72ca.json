{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector}from\"react-redux\";import TaskModal from\"../modals/TaskModal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Task(_ref){let{taskIndex,colIndex}=_ref;const boards=useSelector(state=>state.boards);const board=boards.find(board=>board.isActive===true);const columns=board.columns;const col=columns.find((col,i)=>i===colIndex);const task=col.tasks.find((task,i)=>i===taskIndex);const[isTaskModalOpen,setIsTaskModalOpen]=useState(false);let completed=0;let subtasks=task.subtasks;subtasks.forEach(subtask=>{if(subtask.isCompleted){completed++;}});const handleOnDrag=e=>{e.dataTransfer.setData(\"text\",JSON.stringify({taskIndex,prevColIndex:colIndex}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{draggable:true,onDragStart:handleOnDrag,className:\"task\",onClick:()=>{setIsTaskModalOpen(true);},children:[/*#__PURE__*/_jsx(\"p\",{className:\"task-title heading-M\",children:task.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"num-of-subtasks text-M\",children:[completed,\" of \",subtasks.length,\" subtasks\"]})]}),isTaskModalOpen&&/*#__PURE__*/_jsx(TaskModal,{colIndex:colIndex,taskIndex:taskIndex,setIsTaskModalOpen:setIsTaskModalOpen})]});}","map":{"version":3,"names":["React","useState","useSelector","TaskModal","jsx","_jsx","jsxs","_jsxs","Task","_ref","taskIndex","colIndex","boards","state","board","find","isActive","columns","col","i","task","tasks","isTaskModalOpen","setIsTaskModalOpen","completed","subtasks","forEach","subtask","isCompleted","handleOnDrag","e","dataTransfer","setData","JSON","stringify","prevColIndex","children","draggable","onDragStart","className","onClick","title","length"],"sources":["D:/task management app/zidio-task-management-web-app/src/components/Task.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport TaskModal from \"../modals/TaskModal\";\r\n\r\nexport default function Task({ taskIndex, colIndex }) {\r\n  const boards = useSelector((state) => state.boards);\r\n  const board = boards.find((board) => board.isActive === true);\r\n  const columns = board.columns;\r\n  const col = columns.find((col, i) => i === colIndex);\r\n  const task = col.tasks.find((task, i) => i === taskIndex);\r\n  const [isTaskModalOpen, setIsTaskModalOpen] = useState(false);\r\n\r\n  let completed = 0;\r\n  let subtasks = task.subtasks;\r\n  subtasks.forEach((subtask) => {\r\n    if (subtask.isCompleted) {\r\n      completed++;\r\n    }\r\n  });\r\n\r\n  const handleOnDrag = (e) => {\r\n    e.dataTransfer.setData(\"text\", JSON.stringify({taskIndex, prevColIndex: colIndex}));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        draggable\r\n        onDragStart={handleOnDrag}\r\n        className=\"task\"\r\n        onClick={() => {\r\n          setIsTaskModalOpen(true);\r\n        }}\r\n      >\r\n        <p className=\"task-title heading-M\">{task.title}</p>\r\n        <p className=\"num-of-subtasks text-M\">\r\n          {completed} of {subtasks.length} subtasks\r\n        </p>\r\n      </div>\r\n      {isTaskModalOpen && (\r\n        <TaskModal\r\n          colIndex={colIndex}\r\n          taskIndex={taskIndex}\r\n          setIsTaskModalOpen={setIsTaskModalOpen}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,SAAS,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,IAAIA,CAAAC,IAAA,CAA0B,IAAzB,CAAEC,SAAS,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAClD,KAAM,CAAAG,MAAM,CAAGV,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACD,MAAM,CAAC,CACnD,KAAM,CAAAE,KAAK,CAAGF,MAAM,CAACG,IAAI,CAAED,KAAK,EAAKA,KAAK,CAACE,QAAQ,GAAK,IAAI,CAAC,CAC7D,KAAM,CAAAC,OAAO,CAAGH,KAAK,CAACG,OAAO,CAC7B,KAAM,CAAAC,GAAG,CAAGD,OAAO,CAACF,IAAI,CAAC,CAACG,GAAG,CAAEC,CAAC,GAAKA,CAAC,GAAKR,QAAQ,CAAC,CACpD,KAAM,CAAAS,IAAI,CAAGF,GAAG,CAACG,KAAK,CAACN,IAAI,CAAC,CAACK,IAAI,CAAED,CAAC,GAAKA,CAAC,GAAKT,SAAS,CAAC,CACzD,KAAM,CAACY,eAAe,CAAEC,kBAAkB,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE7D,GAAI,CAAAuB,SAAS,CAAG,CAAC,CACjB,GAAI,CAAAC,QAAQ,CAAGL,IAAI,CAACK,QAAQ,CAC5BA,QAAQ,CAACC,OAAO,CAAEC,OAAO,EAAK,CAC5B,GAAIA,OAAO,CAACC,WAAW,CAAE,CACvBJ,SAAS,EAAE,CACb,CACF,CAAC,CAAC,CAEF,KAAM,CAAAK,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACxB,SAAS,CAAEyB,YAAY,CAAExB,QAAQ,CAAC,CAAC,CAAC,CACrF,CAAC,CAED,mBACEJ,KAAA,QAAA6B,QAAA,eACE7B,KAAA,QACE8B,SAAS,MACTC,WAAW,CAAET,YAAa,CAC1BU,SAAS,CAAC,MAAM,CAChBC,OAAO,CAAEA,CAAA,GAAM,CACbjB,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CAAAa,QAAA,eAEF/B,IAAA,MAAGkC,SAAS,CAAC,sBAAsB,CAAAH,QAAA,CAAEhB,IAAI,CAACqB,KAAK,CAAI,CAAC,cACpDlC,KAAA,MAAGgC,SAAS,CAAC,wBAAwB,CAAAH,QAAA,EAClCZ,SAAS,CAAC,MAAI,CAACC,QAAQ,CAACiB,MAAM,CAAC,WAClC,EAAG,CAAC,EACD,CAAC,CACLpB,eAAe,eACdjB,IAAA,CAACF,SAAS,EACRQ,QAAQ,CAAEA,QAAS,CACnBD,SAAS,CAAEA,SAAU,CACrBa,kBAAkB,CAAEA,kBAAmB,CACxC,CACF,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}